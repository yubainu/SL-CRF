# ONTOS Engine V12.3  
**Detecting Discontinuous Hallucinations via Structural Inconsistency**

When AI hallucinates, its structure breaks first.
ONTOS detects this â€” instantly, without reading a single word.
---

## Overview

**ONTOS (Structural Inconsistency Detection Engine)** is a multi-scale monitoring system designed to detect *structural discontinuities* in data streams.

Unlike conventional anomaly detectionâ€”which reacts to surface-level output changesâ€”ONTOS focuses on **logical topology**:  
it detects *when internal structure begins to break*, **before** observable failure occurs.

ONTOS computes a leading indicator called the **Inherent Discrepancy Index (IDI)**, which measures friction between multiple abstraction scales.

This repository demonstrates that **LLM-style hallucinations can be detected as structural events**, not semantic classification problems.

---

## Key Insight

> Hallucination is not an error in output.  
> It is a **collapse of cross-scale structural consistency**.

---

## Experimental Results

### 1. Numerical â€œGhost Driftâ€ Test

- Input signal remains statistically stable
- Baseline delta fails to detect anomalies
- **ONTOS IDI rises gradually**
- Structural erosion detected **5â€“10 steps before collapse**

**Conclusion:**  
ONTOS acts as a *leading indicator*, not a reactive alarm.

---

### 2. Textual Hallucination Test

- Simulated semantic entropy stream
- Stable narrative â†’ logic drift â†’ discontinuous hallucination
- **IDI crosses threshold before semantic failure is explicit**

**Conclusion:**  
Logical leaps in text manifest as *structural discontinuities*, detectable without labels.

---

## Technical Features

- **Multi-Scale Probing**  
  Polynomial Axioms (degree 1â€“5) monitor structure at different abstraction levels.

- **Topological Invariants**  
  Cross-scale consistency is tracked to expose â€œquiet contradictionsâ€ invisible to single-scale models.

- **Leading Indicator Design**  
  IDI reacts to *structural friction*, not magnitude or variance.

---

## Usage / How to Run

### 1. Requirements
```
pip install numpy matplotlib
```

### 2. Basic Implementation (Python)
```
from ontos_stub import ONTOS
```

#### Input Data Specification
To ensure accurate structural analysis, the input to `monitor.step(value)` should be defined as follows:

* **Range**: Recommended `0.0` to `1.0` (Normalized values).
* **Data Type**: Float.
* **Contextual Mapping**:
    * **For LLMs**: Use token probabilities, log-probs, or semantic entropy.
    * **For Time-Series**: Use delta changes or normalized observation values.

*Note: ONTOS monitors the "friction" between scales, so providing a consistent stream of related data points is key for IDI accuracy.*

#### 1. Initialize
```
monitor = ONTOS(alert_threshold=0.25)
```

#### 2. Feed data and get result (IDI)
```
data_point = 0.18
result = monitor.step(data_point)
```

#### 3. Handle output
```python
print(f"Current IDI: {result['idi']}")  
if result['report']:  
    print(f"Alert: {result['report']}")
```

### 3. Run Demo Scripts
#### A. Numerical Ghost Drift Test
```
python demo_numeric.py
```

##### Expected behavior:

Baseline delta stays inconclusive.

ONTOS IDI increases smoothly.

Alert triggers before visible collapse.

##### Outputs:  
numeric_idi_test.png

#### B. Textual Hallucination Detection Test
```
python demo_text_hallucination.py
```

##### Expected behavior:

Structural erosion detected before hallucination.

IDI exceeds threshold prior to semantic breakdown.

##### Outputs:  
text_hallucination_test.png


### Understanding the Output

Each step() returns:

{  
    "idi": float,        # Global structural instability  
    "report": str,      # Diagnostic message (empty if stable)  
    "idi_map": dict     # Per-invariant IDI (abstracted)  
}

Interpretation:  
	â€¢	IDI < threshold â†’ structurally coherent  
	â€¢	IDI rising â†’ hidden erosion  
	â€¢	IDI > threshold â†’ discontinuity detected


### About the Public Stub

This repository exposes a behavior-preserving stub of ONTOS.

Guaranteed:  
	â€¢	Same public interface  
	â€¢	Comparable IDI dynamics  
	â€¢	Reproducible detection timing  

Intentionally hidden:  
	â€¢	Internal belief mechanics  
	â€¢	Structural memory rules  
	â€¢	Exact invariant topology  

Reproducibility without reversibility



### Reproducibility Statement

All results in this repository can be reproduced by running the provided scripts.

While the ONTOS core is not release,
the behavioral claims, timing, and detection characteristics are independently verifiable.

This repository is suitable for:  
	â€¢	Independent validation  
	â€¢	Safety research  
	â€¢	Alignment discussion  
	â€¢	Industrial feasibility review  

## Future Work
	â€¢	Dataset purification via structural filtering  
	â€¢	Training cost reduction by excluding high-belief samples  
	â€¢	Real-time detection of structural mislearning in LLM training loops  

## Contact

For collaboration, licensing, or technical consultation:

ğŸ“§ [your-email]

---

**Interested in deploying ONTOS?**

We offer technical deep-dives, proof-of-concept integration,and custom threshold calibration.


# ONTOS Engine V12.3 ä¸é€£ç¶šãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹é€ æ¤œçŸ¥ã‚¨ãƒ³ã‚¸ãƒ³

## æ¦‚è¦
ONTOSï¼ˆStructural Inconsistency Detection Engineï¼‰ã¯ã€
ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®èƒŒå¾Œã«ã‚ã‚‹è«–ç†æ§‹é€ ã®ä¸é€£ç¶šæ€§ã‚’æ¤œçŸ¥ã™ã‚‹å¤šé‡å°ºåº¦ã‚¨ãƒ³ã‚¸ãƒ³ã§ã™ã€‚

å¾“æ¥ã®ç•°å¸¸æ¤œçŸ¥ãŒã€Œçµæœã€ã«åå¿œã™ã‚‹ã®ã«å¯¾ã—ã€
ONTOSã¯æ§‹é€ ãŒå£Šã‚Œå§‹ã‚ãŸç¬é–“ã‚’æ‰ãˆã‚‹ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

ãã®æŒ‡æ¨™ãŒ IDIï¼ˆInherent Discrepancy Indexï¼‰ ã§ã™ã€‚

## æ ¸å¿ƒçš„ãªè€ƒãˆæ–¹
ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€Œé–“é•ã„ã€ã§ã¯ãªã„ã€‚
æŠ½è±¡åº¦é–“ã®æ•´åˆæ€§ãŒå´©å£Šã—ãŸæ§‹é€ ã‚¤ãƒ™ãƒ³ãƒˆã§ã‚ã‚‹ã€‚

## å®Ÿé¨“çµæœ
### 1. æ•°å€¤çš„ã‚´ãƒ¼ã‚¹ãƒˆãƒ»ãƒ‰ãƒªãƒ•ãƒˆè©¦é¨“
â€¢å…¥åŠ›ã¯çµ±è¨ˆçš„ã«å®‰å®š  
â€¢ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ã§ã¯ç•°å¸¸æ¤œçŸ¥ä¸å¯  
â€¢IDIãŒå…ˆè¡Œçš„ã«ä¸Šæ˜‡  
â€¢å´©å£Šã®5ã€œ10ã‚¹ãƒ†ãƒƒãƒ—å‰ã«æ¤œçŸ¥

### 2. è¨€èªçš„ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³è©¦é¨“
â€¢å®‰å®šæ–‡è„ˆ â†’ è«–ç†ãƒ‰ãƒªãƒ•ãƒˆ â†’ ä¸é€£ç¶šã‚¸ãƒ£ãƒ³ãƒ—  
â€¢æ„å‘³ç ´ç¶»ã®å‰ã«IDIãŒé–¾å€¤ã‚’çªç ´

## æŠ€è¡“çš„ç‰¹å¾´
â€¢å¤šé‡å°ºåº¦ãƒ—ãƒ­ãƒ¼ãƒ“ãƒ³ã‚°  
 1æ¬¡ã€œ5æ¬¡ã®æ§‹é€ AxiomãŒåŒæ™‚ç›£è¦–  
â€¢ãƒˆãƒãƒ­ã‚¸ã‚«ãƒ«ãƒ»ã‚¤ãƒ³ãƒãƒªã‚¢ãƒ³ãƒˆ  
 å°ºåº¦é–“ã®çŸ›ç›¾ã‚’ç›´æ¥æ¤œçŸ¥  
â€¢å…ˆè¡ŒæŒ‡æ¨™è¨­è¨ˆ  
 çµ±è¨ˆé‡ã§ã¯ãªãæ§‹é€ æ‘©æ“¦ã«åå¿œ

## ä½¿ã„æ–¹

### å¿…è¦ç’°å¢ƒ
â€¢Python 3.9+  
â€¢NumPy  
â€¢Matplotlib  

```bash
pip install numpy matplotlib
```

### æ•°å€¤ãƒ†ã‚¹ãƒˆ

```bash
python demo_numeric.py
```


### ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³æ¤œè¨¼

```bash
python demo_text_hallucination.py
```


### å…¬é–‹ã‚¹ã‚¿ãƒ–ã«ã¤ã„ã¦

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ å†ç¾å¯èƒ½ãªã‚¹ã‚¿ãƒ–å®Ÿè£… ã‚’æä¾›ã—ã¾ã™ã€‚
â€¢æŒ¯ã‚‹èˆã„ã¯å†ç¾å¯èƒ½
â€¢å†…éƒ¨æ§‹é€ ã¯éå…¬é–‹
â€¢è§£æè€æ€§ã‚’ä¿æŒ

å†ç¾æ€§ã¯ã‚ã‚‹ãŒã€é€†è§£æã¯ã§ããªã„è¨­è¨ˆã§ã™ã€‚

### å†ç¾æ€§ã«ã¤ã„ã¦
æœ¬ãƒªãƒã‚¸ãƒˆãƒªã®å…¨ã¦ã®ä¸»å¼µã¯
ä»˜å±ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œã«ã‚ˆã‚Šæ¤œè¨¼å¯èƒ½ã§ã™ã€‚

### ä»Šå¾Œã®å±•æœ›  
â€¢å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®æ§‹é€ çš„æµ„åŒ–  
â€¢å†å­¦ç¿’ã‚³ã‚¹ãƒˆã®å‰Šæ¸›  
â€¢LLMå­¦ç¿’ä¸­ã®èª¤å­¦ç¿’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œçŸ¥  
